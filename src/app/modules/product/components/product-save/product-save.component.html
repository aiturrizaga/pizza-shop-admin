<div class="modal-header">
    <h4 class="modal-title pull-left">{{product && product.id ? 'Actualizar producto' : 'Nuevo producto'}}</h4>
    <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="closeModal()">
        <span aria-hidden="true" class="visually-hidden">&times;</span>
    </button>
</div>
<div class="modal-body">
    <form [formGroup]="productForm">
        <div class="mb-3">
            <label for="cbxCategory" class="form-label">Categoria</label>
            <select class="form-select" aria-label="Seleccionar una categoria" id="cbxCategory"
                [compareWith]="compareFn" formControlName="category">
                <option>Seleccionar categoria</option>
                <option *ngFor="let category of categories" [ngValue]="category">{{category.name}}</option>
            </select>
        </div>

        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="txtName" formControlName="name" autocomplete="off"
                [ngClass]="{'is-invalid': f['name'].errors && (f['name'].touched || f['name'].dirty)}">
            <label for="txtName">Nombre</label>
            <div *ngIf="f['name'].errors && (f['name'].touched || f['name'].dirty)" class="invalid-feedback">
                <span *ngIf="f['name'].hasError('required')">El nombre es obligatorio</span>
            </div>
        </div>

        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="txtSlug" formControlName="slug" autocomplete="off">
            <label for="txtSlug">Slug</label>
        </div>

        <div class="form-floating mb-3">
            <textarea class="form-control" id="txtDescription" formControlName="description"
                style="height: 100px"></textarea>
            <label for="txtDescription">Descripci√≥n</label>
        </div>

        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="txtImageUrl" formControlName="imageUrl" autocomplete="off">
            <label for="txtImageUrl">URL de la imagen</label>
        </div>

        <div class="form-floating mb-3">
            <input type="number" class="form-control" id="txtRating" formControlName="rating" autocomplete="off">
            <label for="txtRating">Rating</label>
        </div>

        <div class="form-floating mb-3">
            <input type="number" class="form-control" id="txtPrice" formControlName="price" autocomplete="off">
            <label for="txtPrice">Precio</label>
        </div>
    </form>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="saveProduct()">
        {{product && product.id ? 'Actualizar' : 'Registrar'}}
    </button>
    <button type="button" class="btn btn-default" (click)="closeModal()">Cerrar</button>
</div>